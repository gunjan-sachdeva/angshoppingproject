
<div class="container mt-4 myform">
    <h1 class="text-center">
        Create an Account
    </h1>
    <form #register = "ngForm" (ngSubmit)="register.form.valid && registerfn()">
        
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id = "name" placeholder="Last Name...." [(ngModel)]="form.name" name="name" #name = "ngModel" required maxlength="32" [ngClass]="{error: name.errors && name.touched}">
            <div *ngIf="name.errors && name.touched">
                <small class="text-danger" *ngIf="name.errors['required']">
                        Last Name is required!
                </small>
                <small class="text-danger" *ngIf="name.errors['maxlength']">
                    Maximum 32 Characters are allowed.
                </small>
            </div>
        </div>
        <div class="mb-3">
            <label for="mobile" class="form-label">Mobile</label>
            <input type="text" class="form-control" id = "mobile" placeholder="Mobile Number...." [(ngModel)]="form.mobile" name="mobile" #mobile = "ngModel" required minlength="10" maxlength="10" [pattern]="integerRegex" [ngClass]="{error: mobile.errors && mobile.touched}">
            <div *ngIf="mobile.errors && mobile.touched">
                <small class="text-danger" *ngIf="mobile.errors['required']">
                    Mobile Number is required.
                </small>
                <small class="text-danger" *ngIf="mobile.errors['maxlength'] || mobile.errors['minlength'] || mobile.errors['pattern']">
                    Please Enter a Valid Mobile Number.
                </small>
            </div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id = "email" placeholder="email address...." [(ngModel)]="form.email" name="email" #email = "ngModel" required maxlength="32" [pattern]="emailRegex" [ngClass]="{error: email.errors && email.touched}">
            <div *ngIf="email.errors && email.touched">
                <small class="text-danger" *ngIf="email.errors['required']">
                    Email Address is required.
                </small>
                <small class="text-danger" *ngIf="email.errors['maxlength']">
                   Email Address Should be maximum 32 characters Long.
                </small>
                <small class="text-danger" *ngIf="email.errors['pattern']">
                   Please Enter a Valid Email.
                 </small>
            </div>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id = "password" placeholder="Please Enter Your Password..." [(ngModel)]="form.password" name="password" #password = "ngModel" required minlength ="8" [pattern]="passwordRegex" [ngClass]="{error: password.errors && password.touched}">
            <div *ngIf="email.errors && email.touched">
                <small class="text-danger" *ngIf="email.errors['required']">
                    Password is Required.
                </small>
                <small class="text-danger" *ngIf="email.errors['minlength']">
                   Password Should Atleast be 8 charachters long.
                </small>
                <small class="text-danger" *ngIf="email.errors['pattern']">
                   Please Enter a Valid Password.
                 </small>
            </div>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <textarea class="form-control" placeholder="Leave a address here" id="address" class = "form-control" [(ngModel)]="form.address" name="address" #address = "ngModel" required maxlength="200" [ngClass]="{error: address.errors && address.touched}"></textarea>
            <div *ngIf="address.errors && address.touched">
                <small class="text-danger" *ngIf="address.errors['required']">
                    address is required.
                </small>
                <small class="text-danger" *ngIf="address.errors['maxlength']">
                    address Should be maximum 200 characters Long.
                 </small>
            </div>
        </div>
        <div class="mb-3">
            <input type="submit" value="submit" class="btn btn-success" [disabled]="register.form.status==='INVALID'" id = "sub" (click)="sendData()" routerLink="/profile">
        </div>
        <div class="register-link">
           Already a User? Login <a routerLink="/login">Register here</a>
          </div>
        
    </form>
</div>


<router-outlet></router-outlet>

